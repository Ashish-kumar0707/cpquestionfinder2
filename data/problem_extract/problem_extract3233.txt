read,problems,statements,mandarin,chinese,russian,country,road,system,tree,nodes,tree,represent,cities,edge,road,edge,unit,length,safety,government,put,guards,protect,cities,government,shortage,money,protect,cites,concerned,country's,safety,information,guards,i-th,day,k[i],guards,road,system,j-th,guard,node,a[j],protect,node,distance,a[j],larger,r[j],nodes,road,system,protected,guard,input,line,integer,denoting,number,cities,n-1,lines,line,integers,denoting,edge,city,1-based,index,line,integer,denoting,number,days,lines's,description,integer,denoting,number,guards,day,integer,pairs,a[i]r[i],denoting,guards's,information,simplicity,node,guard,constraints,≤,≤,total,number,guards,queries,≤,output,day,output,answer,line,input,output,author,5★wjmzbmr,tester,3★shangjingbo,editorial,https://discuss.codechef.com/problems/BTREE,tags,persistent,segment,trees,auxiliary,tree,lowest,common,ancestor,advanced,data,structures,persistent,structures,advanced,algorithms,advanced,graph,algos,algorithms,graph,algos,difficulty,rating,date,added,26-08-2014,time,limit,secs,source,limit,bytes,languages,pyth,java,cpp14,pyth,pyp3,cs2,ada,text,pas,fpc,nodejs,ruby,php,hask,tcl,perl,scala,lua,bash,js,lisp,sbcl,pas,gpc,bf,cloj,caml,fort,asm,fs,wspc,lisp,clisp,scm,guile,perl6,erl,clps,prlg,ick,nice,icon,pike,scm,qobi,st,nem,submit