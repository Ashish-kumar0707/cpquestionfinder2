chef,tree,consisting,nodes,nodes,numbered,node,integer,equal,initially,chef,asks,perform,queries,type,queries,changing,integers,add,integer,node,add,a+b,integer,node,add,a+2*b,integer,node,simple,path,type,queries,question,integers,output,sum,integers,nodes,type,queries,rollback,integer,integers,nodes,return,state,x-th,changing,query,equal,beginning,input,line,input,consists,integers,-,n−1,lines,follow,n−1,lines,describe,tree,structure,line,consists,integers,-,means,edge,node,node,lines,follow,single,line,denotes,single,query,forms,sample,detailed,explanation,x1,y1,-,changing,query,x1,y1,-,question,query,x1,-,rollback,query,numbers,directly,rollback,query,actual,number,equal,x1+lastans,modulo,total,number,changing,queries,query,+,changing,question,queries,equal,x1+lastans,modulo,n+1,equal,y1+lastans,modulo,n+1,lastans,denotes,number,output,output,numbers,output,question,query,output,answer,single,line,constraints,≤,≤,≤,≤,≤,x1,y1,≤,input,output,explanation,tree,sample,line,denote,state,integers,i-th,integer,means,integer,node,changing,query,actual,numbers,=,+,modulo,+,=,=,+,modulo,+,=,state,query,changing,query,state,similar,reason,question,query,actual,numbers,=,+,modulo,+,=,=,+,modulo,+,=,answer,+,+,=,rollback,query,actual,number,=,+,modulo,+,=,modulo,=,lastans,=,state,rollbacked,answer,question,query,integers,rollback,query,actual,number,=,+,modulo,+,=,lastans,=,state,state,changing,query,answer,question,query,+,+,=,author,sergey_adm,tester,6★laycurse,editorial,https://discuss.codechef.com/problems/QUERY,tags,persistent,segment,trees,hld,advanced,data,structures,persistent,structures,advanced,algorithms,advanced,graph,algos,difficulty,rating,date,added,26-12-2012,time,limit,secs,source,limit,bytes,languages,java,cpp14,pyp3,cs2,ada,pas,fpc,nodejs,hask,perl,lua,bash,js,lisp,sbcl,pas,gpc,bf,cloj,caml,fort,asm,fs,lisp,clisp,erl,clps,ick,nice,icon,nem,submit