magicians,playing,funny,game,system,rooms,two-way,passages,rooms,small,passages,straight,pair,rooms,connected,passage,passages,intersect,rooms,situated,3d,pretty,pairs,rooms,connected,passages,initially,magician,located,room,magician,located,candy,guessing,room,magician,telepoints,start,game,consists,turns,magician,taking,turn,magicians,taking,turns,alternately,turn,consists,phases,call,magician,taking,turn,current,magician,phase,current,magician,walk,rooms,existing,passages,choose,move,residing,rooms,announces,phase,finished,phase,magicians,found,residing,room,game,ends,current,magician,wins,turn,continued,phase,current,magician,create,passage,rooms,system,directly,connected,passage,pair,rooms,game,ends,current,magician,loses,turn,continued,phase,current,magician,stay,room,strictly,positive,number,telepoints,remaining,teleport,rooms,case,teleportation,current,magician,loses,telepoint,phase,current,magician,turns,residing,room,current,magician,lose,pretty,information,system,rooms,passages,game,point,contest,rankings,find,magicians,win,playing,optimally,winning,exists,guaranteed,winning,strategy,input,line,single,integer,--,number,test,cases,test,case,empty,line,line,integers,≤,≤,≤,≤,≤,≤,lines,integers,xi,yi,≤,xi,yi,≤,xi,≠,yi,lines,describes,single,two-way,passage,rooms,xi,yi,guaranteed,rooms,directly,connected,passage,output,test,case,output,single,line,single,word,magician,winning,strategy,game,input,output,explanation,test,cases,game,ends,turn,turn,magician,passage,created,magician,hands,win,magician,test,case,game,ends,fourth,turn,magician,telepoint,fourth,test,case,game,ends,turn,magician,telepoint,author,gennady_adm,tester,6★laycurse,editorial,https://discuss.codechef.com/problems/MAGIC,tags,dynamic,programming,game,theory,algorithms,difficulty,rating,date,added,27-02-2012,time,limit,secs,source,limit,bytes,languages,pyth,java,cpp14,pyth,pyp3,cs2,ada,text,pas,fpc,nodejs,ruby,php,hask,tcl,perl,scala,lua,bash,js,lisp,sbcl,pas,gpc,bf,cloj,caml,fort,asm,fs,wspc,lisp,clisp,scm,guile,perl6,erl,clps,prlg,ick,nice,icon,pike,scm,qobi,st,nem,submit