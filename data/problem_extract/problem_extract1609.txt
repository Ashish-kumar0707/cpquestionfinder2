sereja,student,university,kyiv,studies,computer,science,experienced,programmer,lot,advanced,algorithms,thing,likes,advanced,algorithms,segment,tree,data,structure,evening,loveliest,place,kyiv,-,chef's,cafe,chef,interested,computer,science,discuss,problems,evening,sereja,told,chef,problem,array,a1,a2,integers,task,find,product,ranges,segments,[i,j],≤,<,≤,range,segment,[i,j],means,maxai,ai+1,aj,-,minai,ai+1,aj,sereja,chef,find,efficient,algorithm,problem,segment,tree,gave,thinking,chef,calculate,random,array,means,elements,array,generated,uniformly,independently,random,sereja,surprised,hear,wanted,details,chef,busy,moment,asked,solve,problem,random,array,input,line,single,integer,integers,a1,a2,follow,line,output,output,single,line,required,product,modulo,109+7,answer,large,constraints,≤,≤,≤,ai,<,109+7all,test,cases,created,method,test,case,generation,sample,input,sample,output,sample,input,sample,output,explanation,input,segments,[i,j],=,[1,2],[2,3],[1,3],range,segment,[1,2],max12,-,min12,=,1the,range,segment,[2,3],max24,-,min24,=,2the,range,segment,[1,3],max124,-,min124,=,3therefore,obtain,answer,*,*,=,output,mod,=,input,segments,ranges,segments,answer,*,*,*,*,*,*,*,*,*,=,note,created,manually,arrays,random,arrays,official,test,cases,array,equal,elements,input,test,case,generation,official,test,filesfor,test,file,ai,chosen,109+6,uniformly,independently,random,test,files,chosen,uniformly,randomthe,test,files,chosen,uniformly,randomthe,test,files,=,author,roman_adm,tester,6★laycurse,editorial,https://discuss.codechef.com/problems/SEREJA,tags,pre,processing,modulo,multiplicative,inverse,range,minimum,queries,advanced,algorithms,mathematics,modular,arithmetic,algorithms,queries,difficulty,rating,date,added,2-08-2012,time,limit,secs,source,limit,bytes,languages,pyth,java,cpp14,pyth,pyp3,cs2,ada,text,pas,fpc,nodejs,ruby,php,hask,tcl,perl,scala,lua,bash,js,lisp,sbcl,pas,gpc,bf,cloj,caml,fort,asm,fs,wspc,lisp,clisp,scm,guile,perl6,erl,clps,prlg,ick,nice,icon,pike,scm,qobi,st,nem,submit