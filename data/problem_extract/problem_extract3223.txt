read,problems,statements,mandarin,chinese,russian,vietnamese,rooted,tree,weighted,nodes,numbered,root,tree,node,number,goal,handle,queries,types,getsumu,=,returns,sum,values,nodes,u's,subtree,addu,=,adds,values,node,u's,subtree,including,swapu,=,swaps,subtrees,subtrees,disjoint,input,line,input,space,separated,integers,denoting,number,nodes,tree,number,queries,handle,line,space,separated,integers,w1,w2,wn,wi,denotes,assigned,node,beginning,n-1,lines,space,separated,integers,denoting,edge,tree,i-th,lines,description,i-th,query,starts,integer,qtype,denoting,type,query,qtype=1,single,integer,denoting,parameter,query,qtype=2,qtype=3,space,separated,integers,denoting,parameters,query,output,query,type,output,answer,query,single,line,output,-1,query,type,subtrees,disjoint,constraints,≤,≤,≤,≤,≤,wi,≤,subtasks,subtask,#1,points,≤,≤,≤,≤,subtask,#2,points,≤,≤,≤,≤,queries,type,time,limit,4s,subtask,#3,points,≤,≤,≤,≤,time,limit,5s,sample,input,sample,output,-1,explanation,input,tree,nodes,assigned,beginning,initial,tree,drawn,queries,handle,adds,nodes,subtree,asks,sum,values,nodes,subtree,nodes,initial,3rd,query,swaps,subtrees,nodes,performed,drawing,illustrates,swap,performed,subtrees,disjoint,4th,query,asks,sum,values,nodes,subtree,subtree,changed,result,node,nodes,query,swap,subtrees,subtrees,disjoint,answer,query,-1,author,5★pkacprzak,tags,trees,treap,splay,tree,link,cut,tree,squareroot,tree,data,structures,graphs,advanced,data,structures,advanced,tree,structures,advanced,algorithms,advanced,graph,algos,squareroot,graph,difficulty,rating,date,added,29-12-2016,time,limit,-,secs,source,limit,bytes,languages,pyth,java,cpp14,pyth,pyp3,cs2,ada,pypy,text,pas,fpc,nodejs,ruby,php,hask,tcl,perl,scala,lua,bash,js,lisp,sbcl,pas,gpc,bf,cloj,caml,fort,asm,fs,wspc,lisp,clisp,scm,guile,perl6,erl,clps,prlg,ick,nice,icon,scm,chicken,pike,scm,qobi,st,nem,submit