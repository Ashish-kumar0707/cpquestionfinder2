read,problems,statements,mandarin,chinese,russian,vietnamese,majd,ajaj,co-chefs,accepted,job,job,simple,taste,food,provide,reports,quality,pretty,simple,huh,thought,day,co-chefs,made,spicy,food,made,majd's,ears,produce,smoke,train,bad,fight,chef,decided,expel,majd,entreat,chef,offered,chance,chef,gave,majd,catalog,mini-dances,d1,d2,dn,integer,chef,majd,queries,query,chef,give,majd,numbers,majd,calculate,range,[l,r],mini-dances,catalog,smallest,dance,length,falls,completely,inside,range,[l,r],logical,xor,elements,dance,defined,consecutive,segment,mini-dances,dance,starts,mini-dance,ends,mini-dance,defined,[i,j],length,dance,[i,j],-,+,majd,exceptional,taster,good,dancing,find,answer,query,determine,impossible,input,line,input,integer,denoting,number,test,cases,line,test,case,space,separated,integers,denoting,length,array,number,chef,number,queries,line,test,case,space,separated,integers,d1,d2,dn,denoting,mini-dances,catalog,lines,follow,line,space,separated,integers,li,ri,denoting,ith,query,output,test,case,print,lines,line,single,integer,denoting,answer,query,impossible,majd,find,dance,query,simply,print,-1,constraints,≤,≤,≤,≤,3*105,≤,≤,≤,di,≤,sum,test,cases,exceed,3*105,sum,test,cases,exceed,3*105,sample,input,sample,output,-1,-1,explanation,case,test,asks,smallest,dance,greater,equal,query,asks,smallest,dance,belongs,interval,[1,3],dances,{,[11],[12],[13],[22],[23],[33]},dance,[1,3],valid,query,valid,dance,greater,equal,case,query,smallest,valid,dance,[33],author,3★saeed_sryhini,tester,6★kingofnumbers,editorial,https://discuss.codechef.com/problems/CK87DANC,tags,xor,lazy,propagation,offline,queries,advanced,data,structures,advanced,tree,structures,segment,trees,algorithms,queries,difficulty,rating,date,added,20-10-2017,time,limit,secs,source,limit,bytes,languages,pyth,java,cpp14,pyth,pyp3,cs2,ada,pypy,text,pas,fpc,nodejs,ruby,php,hask,tcl,kotlin,perl,scala,lua,bash,js,rust,lisp,sbcl,pas,gpc,bf,cloj,caml,swift,fort,asm,fs,wspc,lisp,clisp,scm,guile,perl6,erl,clps,prlg,ick,nice,icon,cob,scm,chicken,pike,scm,qobi,st,nem,submit