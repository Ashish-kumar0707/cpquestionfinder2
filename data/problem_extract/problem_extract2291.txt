read,problems,statements,mandarin,chinese,russian,string,street,busiest,street,codeland,tourists,world,visit,street,codeland,chef,owns,souvenir,stores,street,numbered,beginning,souvenir,store,chef,plans,add,items,chef's,plan,represented,numbers,items,price,added,store,items,price,+,added,store,+,formally,item,price,*,+,added,store,+,≤,≤,-,additional,cost,item,tourist,pay,conservation,fees,codeland,regularly,defines,conservation,fee,fee,represented,numbers,means,tourist,buying,item,store,+,charged,fee,*,+,≤,≤,-,case,conservation,fees,effect,store,customer,pay,fees,point,time,tourist,store,asks,largest,amount,money,spend,souvenir,store,amount,money,includes,price,souvenirs,conservation,fees,store,input,line,input,integers,represent,number,stores,number,events,lines,represents,event,types,chronological,order,plan,chef,conservation,fee,query,tourist,output,query,tourist,print,line,answer,item,ith,store,print,na,quotes,answer,constraints,≤,≤,≤,≤,3*105,events,type,≤,≤,≤,|a|,|b|,≤,events,type,≤,≤,≤,|a|,|b|,≤,events,type,≤,≤,input,-8,output,na,-38,explanation,beginning,stores,empty,answer,query,asks,store,na,plan,chef,means,items,price,added,stores,correspondingly,query,store,answer,item,buy,conservation,fee,plan,chef,-8,items,price,-6,-14,-22,-30,-38,added,stores,correspondingly,store,items,prices,answer,query,store,conservation,fee,store,item,price,-38,answer,query,store,-38,conservation,fee,policy,conservation,fee,stores,stores,items,costs,unit,money,costs,-6,pay,unit,money,conservation,fee,largest,amount,money,spend,item,store,+,=,conservation,fee,policy,conservation,fees,added,stores,correspondingly,largest,amount,money,spend,item,store,increased,answer,query,note,price,conservation,fee,negative,author,tuan_adm,editorial,https://discuss.codechef.com/problems/STREETTA,tags,segment,trees,advanced,data,structures,advanced,tree,structures,difficulty,rating,date,added,24-01-2014,time,limit,secs,source,limit,bytes,languages,pyth,java,cpp14,pyth,pyp3,cs2,ada,text,pas,fpc,nodejs,ruby,php,hask,tcl,perl,scala,lua,bash,js,lisp,sbcl,pas,gpc,bf,cloj,caml,fort,asm,fs,wspc,lisp,clisp,scm,guile,perl6,erl,clps,prlg,ick,nice,icon,pike,scm,qobi,st,nem,submit