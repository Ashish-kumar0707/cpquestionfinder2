read,problems,statements,mandarin,chinese,russian,vietnamese,chef,likes,trees,lot,thinking,interesting,problem,trees,finds,problem,interesting,tree,queries,tree,nodes,numbered,node,av,queries,types,-,reverse,values,path,vertices,ul,ur,vl,vr,-,print,values,path,ul,ur,path,vl,vr,ensured,length,paths,ul,ur,vl,vr,-,copy,values,path,ul,ur,insert,path,vl,vr,ensured,length,paths,input,line,integers,line,space-separeted,integers,denoting,av,-,values,nodes,n-1,lines,space-separeted,integers,denoting,nodes,connected,edge,lines,queries,output,query,type,output,answer,single,line,constraints,≤,≤,≤,ai,≤,≤,ul,ur,vl,vr,≤,subtasks,subtask,pts,≤,subtask,pts,original,constraints,input,output,author,6★mgch,tester,6★xcwgf666,editorial,https://discuss.codechef.com/problems/CHEFTRE,tags,aug16,hard,heavy-light-decomposition,mgch,segment-tree,square-root-decomposition,difficulty,rating,date,added,13-07-2016,time,limit,secs,source,limit,bytes,languages,pyth,java,cpp14,pyth,pyp3,cs2,ada,pypy,text,pas,fpc,nodejs,ruby,php,hask,tcl,perl,scala,lua,bash,js,lisp,sbcl,pas,gpc,bf,cloj,caml,fort,asm,fs,wspc,lisp,clisp,scm,guile,perl6,erl,clps,prlg,ick,nice,icon,scm,chicken,pike,scm,qobi,st,nem,submit