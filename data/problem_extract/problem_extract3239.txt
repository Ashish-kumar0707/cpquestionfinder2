tsetso,likes,play,arrays,array,a[12…n]a[12…n],tsetso,array,a[1]⋅a[n]=maxa1a2…an−1ana[1]⋅a[n]=maxa1a2…an−1an,bedo,teammate,likes,solve,problems,tsetso,gave,array,aa,nn,distinctdistinct,integers,a1a2…ana1a2…an,qq,queries,form,[lr][lr],asked,count,number,tsetso,subarrays,range,subarray[lr][lr],tsetso,subarray,a[l]⋅a[r]=maxalal+1ar−1ara[l]⋅a[r]=maxalal+1ar−1ar,bedo,spent,lot,time,solve,notenote,sequence,aa,subarray,sequence,bb,aa,obtained,bb,deletion,possibly,elements,beginning,possibly,elements,end,input,format,first-line,tt,number,test,cases,test,cases,follow,line,input,space-separated,integers,nn,qq,number,elements,array,number,queries,line,nn,distinctdistinct,space-separated,integers,a1a2…ana1a2…an,qq,lines,follow,line,space-separated,integers,lrlr,output,format,query,output,single,line,number,tsetso,subarrays,range,[lr][lr],constraints,1≤t≤101≤t≤10,2≤n≤1052≤n≤105,1≤ai≤10181≤ai≤1018,1≤q≤5⋅1051≤q≤5⋅105,1≤l≤r≤n1≤l≤r≤n,sum,nn,testcases,atmost,sum,qq,testcases,atmost,5⋅1055⋅105,sample,input,sample,output,explanation,valid,subarrays,[16][24][35][45][55][56][47][16][24][35][45][55][56][47],invalid,subarrays,[13]3⋅24≠max3624[13]3⋅24≠max3624,author,zezomostafa11,editorial,https://discuss.codechef.com/problems/A1016054,tags,sparse,table,segment,trees,fenwick,trees,divisors,sorting,observation,binary,search,offline,queries,advanced,data,structures,advanced,tree,structures,mathematics,number,theory,integer,factorisation,algorithms,searching,queries,difficulty,rating,date,added,12-09-2021,time,limit,secs,source,limit,bytes,languages,cpp17,pyth,java,cpp14,pyth,pyp3,cs2,ada,pypy,text,pas,fpc,nodejs,ruby,php,hask,tcl,kotlin,perl,scala,lua,bash,js,rust,lisp,sbcl,pas,gpc,bf,cloj,caml,swift,fort,asm,fs,wspc,lisp,clisp,sql,scm,guile,perl6,erl,clps,prlg,sqlq,ick,nice,icon,cob,scm,chicken,pike,scm,qobi,st,nem,submit