read,problems,statements,mandarin,chinese,russian,vietnamese,rooted,tree,consisting,nodes,numbered,nodes,integer,ai,assigned,define,childrenv,sequence,children,increasing,order,ids,define,childrenv,childrenv,=,[v],childrenv,=,childrenv,childrenv,=,childrenchildrenv[1],-,+,childrenchildrenv[2],-,+,+,childrenchildrenv[|childrenv|],-,>,+,denotes,concatenation,sequences,childrenv[i],denotes,accessing,i'th,element,childrenv,define,bittwisterx,function,code,snippet,written,python,def,bittwisterx,^=,>>,^=,>,return,*,^,>>,+,define,reducedbybittwisterx1,x2,xk,reducedbybittwisterx1,=,x1,reducedbybittwisterx1,xk,-,xk,=,bittwisterreducedbybittwisterx1,xk,-,xk,>,asked,process,queries,kind,integers,≤,≤,convenience,denote,childrenv,node,sequence,v1,v2,vk,calculate,reducedbybittwisterav1,avk,guaranteed,childrenv,non-empty,sequence,query,input,line,input,integer,denoting,number,test,cases,line,test,case,description,integers,line,integers,denoting,a1,a2,line,-,integers,p2,pn,denoting,pi,direct,ancestor,node,tree,root,ancestors,lines,integers,denoting,query,process,output,queries,output,result,separate,line,constraints,≤,≤,≤,≤,≤,≤,≤,ai,<,≤,pi,<,sample,input,sample,output,explanation,image,tree,case,author,6★kostya_by,tester,4★pavel1996,editorial,https://discuss.codechef.com/problems/BITTWIST,tags,cook69,kostya_by,medium-hard,sqrt-decomp,difficulty,rating,date,added,26-03-2016,time,limit,secs,source,limit,bytes,languages,pyth,java,cpp14,pyth,pyp3,cs2,ada,pypy,text,pas,fpc,nodejs,ruby,php,hask,tcl,perl,scala,lua,bash,js,lisp,sbcl,pas,gpc,bf,cloj,caml,fort,asm,fs,wspc,lisp,clisp,scm,guile,perl6,erl,clps,prlg,ick,nice,icon,scm,chicken,pike,scm,qobi,st,nem,submit