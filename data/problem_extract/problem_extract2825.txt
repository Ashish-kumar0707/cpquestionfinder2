johnny,bored,original,lights,game,proposed,variant,time,task,awaits,harder,imagine,large,square,board,grid,matrix,lightbulbs,initially,rest,perform,special,operations,matrix,switch,lightbulbs,step,operation,perform,defined,choose,lightbulb,direction,north,east,west,south,starting,lightbulb,direction,till,end,matrix,toggle,states,lightbulbs,-,input,1≤n≤1000,size,board,rows,numbers,follow,representing,initial,state,lightbulbs,j-th,number,i-th,row,represents,state,lightbulb,coordinates,ij,coordinates,0-based,bulb,top,left,hand,corner,coordinates,output,output,number,operations,perform,rows,describe,sequence,operations,performed,board,order,applied,operation,space,separated,numbers,ijc,0≤ij<n,0-based,coordinates,lightbulb,starting,point,stands,row,number,stands,column,number,character,set,{news},meaning,moving,smaller,row,coordinates,larger,row,coordinates,smaller,column,coordinates,larger,column,coordinates,scoring,lightbulb,remains,operations,receive,penalty,point,operation,performed,receive,penalty,point,total,score,averaged,data,sets,input31,1output20,e0,sscore7,author,admin,tags,admin,difficulty,rating,date,added,15-06-2009,time,limit,secs,source,limit,bytes,languages,java,pyp3,submit